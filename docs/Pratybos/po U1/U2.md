# U2: IntList KlasÄ— ir RAII

**SavaitÄ—s:** 3-4  
**Svoris:** 1 balas  
**Terminas:** SavaitÄ—s 4 pabaiga

---

## ğŸ“š PrieÅ¡ pradedant

**Priminimas:** Å iai uÅ¾duoÄiai taikomi tie patys reikalavimai kaip ir U1.  
ğŸ‘‰ Å½r. **[UÅ¾duoÄiÅ³ Gidas](UzduotiuGidas.md)** dÄ—l:
- GitLab projekto struktÅ«ros
- Git commit'Å³ gairiÅ³
- README.md Å¡ablonÅ³
- Pateikimo Ä¯ Moodle

---

## ğŸ¯ UÅ¾duoties tikslas

Sukurti pirmÄ… klasÄ™ su dinaminiu atminties valdymu. IÅ¡mokti RAII (Resource Acquisition Is Initialization) principÄ… - kad konstruktorius iÅ¡skiria resursus, o destruktorius juos atlaisvina.

---

## ğŸ“š Mokymosi tikslai

AtlikÄ™ Å¡iÄ… uÅ¾duotÄ¯, mokÄ—site:

- âœ… Sukurti klasÄ™ su private/public nariais
- âœ… RaÅ¡yti konstruktorius (default ir su parametrais)
- âœ… RaÅ¡yti destruktoriÅ³ su logging
- âœ… Dirbti su dinaminiu atminties skyrimu (`new`/`delete`)
- âœ… Implementuoti automatinÄ¯ konteinerio iÅ¡plÄ—timÄ…
- âœ… Suprasti RAII principÄ…
- âœ… Organizuoti klasÄ™ Ä¯ `.h`/`.cpp` failus

---

## ğŸ’¡ Kas yra IntList?

**IntList** - tai **dinaminis sÄ…raÅ¡as sveikiems skaiÄiams** (panaÅ¡us Ä¯ `vector<int>`).

**Funkcionalumas:**
- Saugoja sveikus skaiÄius
- AutomatiÅ¡kai iÅ¡sipleÄia, kai reikia daugiau vietos
- LeidÅ¾ia pridÄ—ti elementus Ä¯ pabaigÄ…
- LeidÅ¾ia gauti elementÄ… pagal indeksÄ…

**Skirtumas nuo U1:**
- U1: **funkcijos** su masyvais/vektoriais
- U2: **klasÄ—** su inkapsuliuotu dinaminiu masyvu

---

## ğŸ“‹ UÅ¾duoties Å¾ingsniai

### **1 Å¾ingsnis: Basic klasÄ— su fiksuotu masyvu**

**Direktorija:** `U2/01/`

**Reikalavimai:**

Sukurkite `IntList` klasÄ™ su:

1. **Private nariai:**
   - `int duomenys[100]` - fiksuoto dydÅ¾io masyvas
   - `int dydis` - dabartinis elementÅ³ skaiÄius

2. **Public metodai:**
   - `IntList()` - default konstruktorius (inicializuoja `dydis = 0`)
   - `void pridetiGala(int reiksme)` - pridÄ—ti elementÄ… Ä¯ pabaigÄ…
   - `int gautiElementa(int indeksas) const` - gauti elementÄ… pagal indeksÄ…
   - `int gautiDydi() const` - gauti dabartinÄ¯ dydÄ¯
   - `void spausdinti() const` - atspausdinti visus elementus

3. **ModulinÄ— struktÅ«ra:**
   - `IntList.h` - klasÄ—s deklaracija
   - `IntList.cpp` - klasÄ—s implementacija
   - `main.cpp` - testavimo programa
   - `Makefile` - kompiliavimo automatizavimas

**Testas:**
```cpp
IntList sarasas;
sarasas.pridetiGala(10);
sarasas.pridetiGala(20);
sarasas.pridetiGala(30);
sarasas.spausdinti();  // [10, 20, 30]
```

**Pavyzdys:**
```
IntList dydis: 3
Elementai: [10, 20, 30]
```

---

### **2 Å¾ingsnis: Dynamic memory + konstruktoriai/destruktorius**

**Direktorija:** `U2/02/`

**Reikalavimai:**

Modifikuokite `IntList` klasÄ™:

1. **Pakeisti private narius:**
   - `int* duomenys` - **rodyklÄ—** Ä¯ dinaminÄ¯ masyvÄ… (ne fixed array!)
   - `int dydis` - dabartinis elementÅ³ skaiÄius
   - `int talpa` - iÅ¡skirtos atminties talpa

2. **Konstruktoriai:**
   - `IntList()` - default: talpa = 10, iÅ¡skirti atmintÄ¯
   - `IntList(int pradineTalpa)` - su parametru: iÅ¡skirti nurodytÄ… talpÄ…
   - **Svarbu:** Konstruktoriuje naudoti `new int[talpa]`

3. **Destruktorius:**
   - `~IntList()` - atlaisvinti atmintÄ¯ su `delete[]`
   - **Logging:** IÅ¡vesti praneÅ¡imÄ… Ä¯ `cout` (debug)
   - **Nustatyti rodyklÄ™ `nullptr`** (saugumui)

4. **Metodai:**
   - IÅ¡laikyti visus metodus iÅ¡ 1 Å¾ingsnio
   - `pridetiGala()` - dabar prideda Ä¯ **dinaminÄ¯** masyvÄ…
   - **Patikrinti:** `if (dydis >= talpa)` â†’ klaida (kol kas be auto-expand)

**Logging pavyzdys:**
```cpp
~IntList() {
    cout << "[DEBUG] IntList naikinamas (dydis=" << dydis 
         << ", talpa=" << talpa << ")" << endl;
    delete[] duomenys;
    duomenys = nullptr;
}
```

**Testas:**
```cpp
{
    IntList sarasas(5);  // Talpa = 5
    for(int i = 1; i <= 5; i++) {
        sarasas.pridetiGala(i * 10);
    }
    sarasas.spausdinti();
} // Destruktorius Äia iÅ¡kvieÄiamas automatiÅ¡kai!
```

**Pavyzdys:**
```
[DEBUG] IntList sukurtas (talpa=5)
IntList dydis: 5
Elementai: [10, 20, 30, 40, 50]
[DEBUG] IntList naikinamas (dydis=5, talpa=5)
```

---

### **3 Å¾ingsnis: Automatinis iÅ¡plÄ—timas**

**Direktorija:** `U2/03/`

**Reikalavimai:**

PridÄ—kite automatinÄ¯ atminties iÅ¡plÄ—timÄ…:

1. **Private metodas:**
   - `void isplesti()` - iÅ¡pleÄia masyvo talpÄ…
   - Algoritmas:
     ```
     1. ApskaiÄiuoti naujÄ… talpÄ… (pvz., talpa + 5)
     2. IÅ¡skirti naujÄ… didesnÄ¯ masyvÄ…
     3. Nukopijuoti senus duomenis
     4. Atlaisvinti senÄ… masyvÄ…
     5. Priskirti naujÄ… masyvÄ…
     ```

2. **Modifikuoti `pridetiGala()`:**
   ```cpp
   void pridetiGala(int reiksme) {
       if (dydis >= talpa) {
           isplesti();  // Automatinis iÅ¡plÄ—timas!
       }
       duomenys[dydis++] = reiksme;
   }
   ```

3. **Logging `isplesti()` metode:**
   ```cpp
   cout << "[DEBUG] IntList isplesta (sena talpa=" << talpa 
        << ", nauja talpa=" << naujaTalpa << ")" << endl;
   ```

**Testas su maÅ¾u `talpa`:**
```cpp
IntList sarasas(3);  // Pradinis talpa = 3
for(int i = 1; i <= 10; i++) {
    sarasas.pridetiGala(i * 10);  // Turi iÅ¡siplÄ—sti!
}
sarasas.spausdinti();
```

**Pavyzdys:**
```
[DEBUG] IntList sukurtas (talpa=3)
[DEBUG] IntList isplesta (sena talpa=3, nauja talpa=8)
[DEBUG] IntList isplesta (sena talpa=8, nauja talpa=13)
IntList dydis: 10
Elementai: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]
[DEBUG] IntList naikinamas (dydis=10, talpa=13)
```

---

## ğŸ“¦ Pateikimas

### **GitLab direktorijÅ³ struktÅ«ra:**

```
cpp-2026/
â”œâ”€â”€ README.md
â”œâ”€â”€ .gitignore
â”œâ”€â”€ U1/
â”‚   â””â”€â”€ ...
â””â”€â”€ U2/
    â”œâ”€â”€ README.md          â† UÅ¾duoties santrauka (PRIVALOMA)
    â”œâ”€â”€ 01/                â† 1 Å¾ingsnis (basic class)
    â”‚   â”œâ”€â”€ IntList.h
    â”‚   â”œâ”€â”€ IntList.cpp
    â”‚   â”œâ”€â”€ main.cpp
    â”‚   â””â”€â”€ Makefile
    â”œâ”€â”€ 02/                â† 2 Å¾ingsnis (dynamic memory)
    â”‚   â”œâ”€â”€ IntList.h
    â”‚   â”œâ”€â”€ IntList.cpp
    â”‚   â”œâ”€â”€ main.cpp
    â”‚   â””â”€â”€ Makefile
    â””â”€â”€ 03/                â† 3 Å¾ingsnis (auto-expand) - FINAL
        â”œâ”€â”€ IntList.h
        â”œâ”€â”€ IntList.cpp
        â”œâ”€â”€ main.cpp
        â””â”€â”€ Makefile
```

### **Git workflow:**

Po kiekvieno Å¾ingsnio:
```bash
git add U2/01/
git commit -m "U2: 1 Å¾ingsnis - Basic IntList klasÄ—"
git push

git add U2/02/
git commit -m "U2: 2 Å¾ingsnis - Dynamic memory + RAII"
git push

git add U2/03/
git commit -m "U2: 3 Å¾ingsnis - Automatinis iÅ¡plÄ—timas"
git push
```

### **U2/README.md Å¡ablonas:**

```markdown
# U2: IntList KlasÄ— ir RAII

**BÅ«sena**: âœ… Atlikta  
**Pateikta**: 2026-02-28

---

## ğŸ“ Å½ingsniai

| Å½ingsnis | Direktorija | ApraÅ¡ymas |
|----------|-------------|-----------|
| 1 | `01/` | Basic klasÄ— (fiksuotas masyvas) |
| 2 | `02/` | Dynamic memory + RAII |
| 3 | `03/` | Automatinis iÅ¡plÄ—timas |

---

## ğŸ§ª Testavimas

**Testas 1 (be iÅ¡plÄ—timo)**:
```
Input: talpa=10, pridÄ—ti 5 elementus
Output: [10, 20, 30, 40, 50]
âœ… VEIKIA
```

**Testas 2 (su iÅ¡plÄ—timu)**:
```
Input: talpa=3, pridÄ—ti 10 elementÅ³
Output: [10, 20, ... 100], automatiÅ¡kai iÅ¡siplÄ—tÄ— 2 kartus
âœ… VEIKIA
```

---

## ğŸ’­ PagrindinÄ—s Ä¯Å¾valgos

1. RAII principas - konstruktorius iÅ¡skiria, destruktorius atlaisvina
2. Automatinis iÅ¡plÄ—timas - panaÅ¡iai kaip `vector`
3. Destruktoriaus logging padeda debug'inti
```

### **Moodle pateikimas:**

```bash
cd cpp-2026
git archive --format=zip --output=U2_VardasPavarde.zip HEAD U2/ README.md .gitignore
```

**Detalios instrukcijos:** Å½r. [UÅ¾duoÄiÅ³ Gidas](UzduotiuGidas.md)

---

## âœ… Vertinimo kriterijai

| Kriterijus | Balai |
|------------|-------|
| Programa kompiliuojasi be klaidÅ³ | 15% |
| Basic klasÄ— (1 Å¾ingsnis) veikia | 15% |
| Dynamic memory + RAII (2 Å¾ingsnis) veikia | 30% |
| Automatinis iÅ¡plÄ—timas (3 Å¾ingsnis) veikia | 20% |
| Destruktoriaus logging | 5% |
| ModulinÄ— struktÅ«ra (`.h`/`.cpp`) | 5% |
| Git commit'ai po kiekvieno Å¾ingsnio | 5% |
| README.md su testais | 5% |
| **TOTAL** | **100%** |

---

## ğŸ’¡ Patarimai

1. **PradÄ—kite nuo 1 Å¾ingsnio** - basic klasÄ— su fiksuotu masyvu
2. **Logging yra svarbus** - matysite, kada destruktorius kvieÄiamas
3. **Testuokite su maÅ¾u `talpa`** (pvz., 3) - lengviau pamatyti iÅ¡plÄ—timÄ…
4. **`nullptr` po `delete[]`** - gera praktika (safety)
5. **IÅ¡saugokite senÄ… kodÄ…** - naujas Å¾ingsnis = nauja direktorija
6. **Commit'inkite daÅ¾nai!**

---

## ğŸ”— Naudingos nuorodos

- [C++ konstruktoriai](https://en.cppreference.com/w/cpp/language/constructor)
- [C++ destruktoriai](https://en.cppreference.com/w/cpp/language/destructor)
- [RAII idioma](https://en.cppreference.com/w/cpp/language/raii)
- [new/delete operators](https://en.cppreference.com/w/cpp/memory/new/operator_new)

---

## â“ DaÅ¾nai uÅ¾duodami klausimai

**K: KodÄ—l `delete[]` o ne `delete`?**  
A: `delete[]` naudojamas masyvams, `delete` - vienam objektui. **Labai svarbu!**

**K: KodÄ—l reikia `nullptr` po `delete[]`?**  
A: Safety - jei atsitiktinai bandysime `delete[]` dar kartÄ…, nekris programa.

**K: Kaip testuoti destruktoriÅ³?**  
A: Logging (`cout` destruktoriuje) + scope (`{ ... }` blokais).

**K: KodÄ—l automatinis iÅ¡plÄ—timas reikalingas?**  
A: Tai `vector` elgsena - dinaminÄ— talpa. IÅ¡ pradÅ¾iÅ³ neÅ¾inome, kiek elementÅ³ bus.

**Daugiau klausimÅ³?** â†’ Å½r. [UÅ¾duoÄiÅ³ Gidas - DUK](UzduotiuGidas.md#duk)

---

**SÄ—kmÄ—s!** ğŸš€
